(this.webpackJsonpcommish=this.webpackJsonpcommish||[]).push([[1],{175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(42),o=a.n(c),s=(a(77),a(23)),l=a(3),i=a(6);var u=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(l.g)();return Object(n.useEffect)((function(){o.pathname.slice(1)?setTimeout((function(){return c("Navigated to ".concat(o.pathname.slice(1)," page."))}),500):c("")}),[o]),r.a.createElement("span",{className:"sr-only",role:"status","aria-live":"polite","aria-atomic":"true"},a)},m=(a(71),Object(n.lazy)((function(){return a.e(8).then(a.bind(null,187))})));var f=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(u,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/app",component:m}))))},p=a(46),d=a(68),b=a(2),v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(p.b,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(d.a,null)},r.a.createElement(b.Windmill,{usePreferences:!0},r.a.createElement(f,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");v?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):E(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):E(t,e)}))}}()},45:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.children;return r.a.createElement("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200"},t)}},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a(6),r=a(0),c=a.n(r),o=c.a.createContext(),s=function(e){var t=e.children,a=Object(r.useState)(!1),s=Object(n.a)(a,2),l=s[0],i=s[1];function u(){i(!l)}function m(){i(!1)}var f=Object(r.useMemo)((function(){return{isSidebarOpen:l,toggleSidebar:u,closeSidebar:m}}),[l]);return c.a.createElement(o.Provider,{value:f},t)}},48:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.children,a=e.title;return r.a.createElement("div",{className:"min-w-0 p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800"},r.a.createElement("p",{className:"mb-4 font-semibold text-gray-800 dark:text-gray-300"},a),t)}},68:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"w-full h-screen p-6 text-lg font-medium text-gray-600 dark:text-gray-400 dark:bg-gray-900"},"Loading...")}},71:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(12),c=a.n(r),o=a(21),s=a(6),l=a(0),i=a.n(l),u=a(3),m=a(45),f=a(2),p=a(18),d=a(16),b=a.n(d),v=a(47),E=a(48);t.default=function(){var e=Object(u.g)(),t=new URLSearchParams(e.search),a=Object(l.useState)([]),r=Object(s.a)(a,2),d=r[0],h=r[1],g=Object(l.useState)([]),x=Object(s.a)(g,2),k=x[0],w=x[1],y=Object(l.useState)(t.get("season")),j=Object(s.a)(y,2),O=j[0],N=j[1],S=Object(l.useState)(t.get("username")),C=Object(s.a)(S,2),T=C[0],A=C[1],U=Object(l.useState)(1),P=Object(s.a)(U,2),W=P[0],D=P[1],F=Object(l.useState)([]),L=Object(s.a)(F,2),R=L[0],B=L[1],I=Object(l.useState)([]),J=Object(s.a)(I,2),M=J[0],_=J[1],z=Object(l.useState)("amount"),H=Object(s.a)(z,2),Z=H[0],$=H[1],q=Object(l.useState)("desc"),G=Object(s.a)(q,2),K=G[0],Q=G[1],V=Object(l.useState)(0),X=Object(s.a)(V,2),Y=X[0],ee=X[1];Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/leagues/seasons");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.next=8,t.json();case 8:a=e.sent,h(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching seasons:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/users");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.next=8,t.json();case 8:a=e.sent,w(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching seasons:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t,a,r,o,s,l,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/api/v1/payouts/",O&&(t="/api/v1/payouts/".concat(O)),e.next=5,fetch(t);case 5:if((a=e.sent).ok){e.next=8;break}throw new Error("Network response was not ok");case 8:return e.next=10,a.json();case 10:r=e.sent,o=Object(n.a)(new Set(r.map((function(e){return e.name})))),s=Object(n.a)(new Set(r.map((function(e){return e.pool_type})))),l={main:"#7e3af2",side:"#0694a2"},i={},o.forEach((function(e){i[e]=[],s.sort(),s.forEach((function(t){var a=r.filter((function(a){return a.name===e&&a.pool_type===t})).reduce((function(e,t){return e+t.amount}),0);i[e].push(a)}))})),o.sort((function(e,t){var a=i[e].reduce((function(e,t){return e+t}),0);return i[t].reduce((function(e,t){return e+t}),0)-a})),u=s.map((function(e){return{label:e,data:o.map((function(t){return i[t][s.indexOf(e)]})),backgroundColor:l[e],stack:"stack"}})),_({labels:o,datasets:u}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("Error fetching payouts:",e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch(console.error)}),[O]),Object(l.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/api/v1/payoutdetails",O&&T?t+="?season=".concat(O,"&username=").concat(T):O?t+="?season=".concat(O):T&&(t+="?username=".concat(T)),e.next=5,fetch(t);case 5:if((a=e.sent).ok){e.next=8;break}throw new Error("Network response was not ok");case 8:return e.next=10,a.json();case 10:n=e.sent,B(n),ee(n.length),D(1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error fetching payouts:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O,T]);var te=Object(n.a)(R);Z&&te.sort((function(e,t){var a=e[Z],n=t[Z];return a<n?"asc"===K?-1:1:a>n?"asc"===K?1:-1:0}));var ae=10*(W-1),ne=Math.min(ae+10,Y),re=te.slice(ae,ne);return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,"Payouts"),i.a.createElement("div",{style:{marginBottom:"20px"}},i.a.createElement(f.Label,null,i.a.createElement("strong",null,"Season"),i.a.createElement(f.Select,{className:"mb-4",value:O,onChange:function(e){return N(e.target.value)}},i.a.createElement("option",{value:""},"All-Time"),d.map((function(e){return i.a.createElement("option",{key:e,value:e},e)}))))),i.a.createElement("div",{style:{marginBottom:"20px"}},i.a.createElement(E.a,{title:"Payouts"},i.a.createElement(v.a,{data:M,options:{responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(e,t){return t.datasets[e.datasetIndex].data[e.index].toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}}},scales:{xAxes:[{stacked:!0}],yAxes:[{ticks:{beginAtZero:!0,userCallback:function(e,t,a){return e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}}}]}},getElementAtEvent:function(e,t){return function(e,t){if(t.length>0){var a=t[0].index,n=M.labels[a];A(n)}}(0,t)}}))),i.a.createElement("div",{style:{marginBottom:"20px"}},i.a.createElement(f.Label,null,i.a.createElement("strong",null,"User"),i.a.createElement(f.Select,{className:"mb-4",value:T,onChange:function(e){A(e.target.value)}},i.a.createElement("option",{value:""},"All Users"),k.map((function(e){return i.a.createElement("option",{key:e.username,value:e.username},e.name)}))))),i.a.createElement(f.TableContainer,{className:"mb-8"},i.a.createElement(f.Table,null,i.a.createElement(f.TableHeader,null,i.a.createElement("tr",null,i.a.createElement(f.TableCell,{className:"cursor-pointer",onClick:function(){$("username"),Q("asc"===K?"desc":"asc")}},i.a.createElement("div",{className:"flex items-center"},"User","username"===Z&&i.a.createElement(p.a,{className:"ml-1 transform ".concat("asc"===K?"rotate-180":""),icon:b.a}))),i.a.createElement(f.TableCell,{className:"cursor-pointer",onClick:function(){$("pool"),Q("asc"===K?"desc":"asc")}},i.a.createElement("div",{className:"flex items-center"},"Pool","pool"===Z&&i.a.createElement(p.a,{className:"ml-1 transform ".concat("asc"===K?"rotate-180":""),icon:b.a}))),i.a.createElement(f.TableCell,{className:"cursor-pointer",onClick:function(){$("season"),Q("asc"===K?"desc":"asc")}},i.a.createElement("div",{className:"flex items-center"},"Season","season"===Z&&i.a.createElement(p.a,{className:"ml-1 transform ".concat("asc"===K?"rotate-180":""),icon:b.a}))),i.a.createElement(f.TableCell,{className:"cursor-pointer",onClick:function(){$("week"),Q("asc"===K?"desc":"asc")}},i.a.createElement("div",{className:"flex items-center"},"Week","week"===Z&&i.a.createElement(p.a,{className:"ml-1 transform ".concat("asc"===K?"rotate-180":""),icon:b.a}))),i.a.createElement(f.TableCell,{className:"cursor-pointer",onClick:function(){$("amount"),Q("asc"===K?"desc":"asc")}},i.a.createElement("div",{className:"flex items-center"},"Amount","amount"===Z&&i.a.createElement(p.a,{className:"ml-1 transform ".concat("asc"===K?"rotate-180":""),icon:b.a}))))),i.a.createElement(f.TableBody,null,re.map((function(e,t){return i.a.createElement(f.TableRow,{key:t},i.a.createElement(f.TableCell,null,i.a.createElement("div",{className:"flex items-center text-sm"},i.a.createElement("div",null,i.a.createElement("p",{className:"font-medium"},e.name)))),i.a.createElement(f.TableCell,null,i.a.createElement("div",{className:"flex items-center text-sm"},i.a.createElement("div",null,i.a.createElement("p",{className:"font-medium"},e.pool)))),i.a.createElement(f.TableCell,null,i.a.createElement("div",{className:"flex items-center text-sm"},i.a.createElement("div",null,i.a.createElement("p",{className:"font-medium"},e.season)))),i.a.createElement(f.TableCell,null,i.a.createElement("div",{className:"flex items-center text-sm"},i.a.createElement("div",null,i.a.createElement("p",{className:"font-medium"},e.week)))),i.a.createElement(f.TableCell,null,i.a.createElement("div",{className:"flex items-center text-sm"},i.a.createElement("div",null,i.a.createElement("p",{className:"font-medium"},e.amount.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}))))))})))),i.a.createElement(f.TableFooter,null,Y>10&&i.a.createElement(f.Pagination,{totalResults:Y,resultsPerPage:10,onChange:function(e){D(e)},currentPage:W,label:"Table navigation"}))))}},72:function(e,t,a){e.exports=a(175)},77:function(e,t,a){}},[[72,2,3]]]);
//# sourceMappingURL=main.527e518e.chunk.js.map